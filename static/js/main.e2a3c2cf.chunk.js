(this.webpackJsonptemplete=this.webpackJsonptemplete||[]).push([[0],{37:function(e,t,a){},38:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var c=a(11),n=a(1),r=a(2),i=a.n(r),s=a(30),l=a.n(s),o=(a(37),a(38),a(5)),u=function(e){var t=e.authService,a=Object(o.f)(),c=function(e){a.push({pathname:"/home",state:{id:e}})},i=function(e){console.log(e.currentTarget.textContent),t.login(e.currentTarget.textContent).then((function(e){return c(e.user.id)}))};return Object(r.useEffect)((function(){t.onAuthChange((function(e){e&&c(e.id)}))})),Object(n.jsx)("div",{className:"login-zone",children:Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("span",{className:"material-icons md-48 md-dark md-inactive",children:"check_circle_outline"}),Object(n.jsx)("h3",{children:"Sign in"}),Object(n.jsx)("p",{children:"WELCOME! This is Business Card Maker."}),Object(n.jsx)("div",{className:"login-btn google-login",onClick:i,children:"Google"}),Object(n.jsx)("div",{className:"login-btn github-login",onClick:i,children:"Github"})]})})},d=a(17),j=a(7),b=a.n(j);function f(e){switch(e){case"white":return b.a.white;case"black":return b.a.black;case"blue":return b.a.blue;default:throw new Error("unknown theme: ".concat(e))}}var h=Object(r.memo)((function(e){var t=e.card,a=t.name,c=t.office,r=t.address,i=t.phone,s=t.email,l=t.theme,o=t.fileName,u=t.fileURL;return Object(n.jsxs)("div",{className:"".concat(b.a.namecard," ").concat(f(l)),children:[Object(n.jsxs)("div",{className:b.a.facezone,children:[Object(n.jsx)("div",{className:"".concat(b.a.face," ").concat(f(l)),children:Object(n.jsx)("img",{src:u,alt:o,className:b.a.faceimg})}),Object(n.jsx)("p",{className:b.a.name,children:a})]}),Object(n.jsxs)("ul",{className:b.a.info,children:[Object(n.jsx)("li",{className:b.a.office,children:c}),Object(n.jsx)("li",{className:b.a.address,children:r}),Object(n.jsx)("li",{className:b.a.phone,children:i}),Object(n.jsx)("li",{className:b.a.email,children:s})]})]})})),m=function(e){var t=e.cards;return Object(n.jsx)("div",{className:"card",children:Object.keys(t).map((function(e){return Object(n.jsx)(h,{card:t[e]},e)}))})},O=Object(r.memo)((function(e){var t=e.onClick;return Object(n.jsx)("button",{onClick:t,children:"Add"})})),p=Object(r.memo)((function(e){var t=e.ImageUploader,a=e.onAdd,c=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(r.useRef)(),u=Object(r.useRef)(),j=Object(r.useRef)(),b=Object(r.useState)({fileName:null,fileURL:null}),f=Object(d.a)(b,2),h=f[0],m=f[1];return Object(n.jsx)("div",{className:"edit-add-zone",children:Object(n.jsxs)("form",{ref:c,className:"form",children:[Object(n.jsx)("input",{type:"text",ref:i,placeholder:"Name"}),Object(n.jsx)("input",{type:"text",ref:s,placeholder:"Company"}),Object(n.jsx)("input",{type:"text",ref:l,placeholder:"Address"}),Object(n.jsx)("input",{type:"text",ref:o,placeholder:"Phone"}),Object(n.jsx)("input",{type:"text",ref:u,placeholder:"Email"}),Object(n.jsxs)("select",{name:"theme",ref:j,className:"theme",children:[Object(n.jsx)("option",{value:"white",children:"white"}),Object(n.jsx)("option",{value:"black",children:"black"}),Object(n.jsx)("option",{value:"blue",children:"blue"})]}),Object(n.jsx)(t,{name:h.fileName,onFileChange:function(e){m({fileName:e.name,fileURL:e.url})}}),Object(n.jsx)("span",{className:"add-button",children:Object(n.jsx)(O,{onClick:function(e){e.preventDefault();var t={id:Date.now(),name:i.current.value||"",office:s.current.value||"",address:l.current.value||"",phone:o.current.value||"",email:u.current.value||"",theme:j.current.value,fileName:h.name||"",fileURL:h.url||""};c.current.reset(),m({fileName:null,fileURL:null}),a(t)}})})]})})})),x=a(19),v=function(e){var t=e.onClick;return Object(n.jsx)("button",{onClick:t,children:"Delete"})},g=function(e){var t=e.ImageUploader,a=e.card,i=e.updateCard,s=e.deleteCard,l=a.name,o=a.office,u=a.address,d=a.phone,j=a.email,b=a.theme,f=a.fileName,h=Object(r.useRef)(),m=Object(r.useRef)(),O=Object(r.useRef)(),p=Object(r.useRef)(),g=Object(r.useRef)(),k=Object(r.useRef)(),N=function(e){e.preventDefault(),null!=e.currentTarget&&i(Object(c.a)(Object(c.a)({},a),{},Object(x.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(n.jsx)("div",{className:"edit-default-zone",children:Object(n.jsxs)("form",{className:"form",children:[Object(n.jsx)("input",{type:"text",name:"name",value:l,ref:h,onChange:N}),Object(n.jsx)("input",{type:"text",name:"office",value:o,ref:m,onChange:N}),Object(n.jsx)("input",{type:"text",name:"address",value:u,ref:O,onChange:N}),Object(n.jsx)("input",{type:"text",name:"phone",value:d,ref:p,onChange:N}),Object(n.jsx)("input",{type:"text",name:"email",value:j,ref:g,onChange:N}),Object(n.jsxs)("select",{name:"theme",value:b,ref:k,onChange:N,className:"theme",children:[Object(n.jsx)("option",{value:"white",children:"white"}),Object(n.jsx)("option",{value:"black",children:"black"}),Object(n.jsx)("option",{value:"blue",children:"blue"})]}),Object(n.jsx)(t,{name:f,onFileChange:function(e){i(Object(c.a)(Object(c.a)({},a),{},{fileName:e.name,fileURL:e.url}))}}),Object(n.jsx)("span",{className:"delete-button",children:Object(n.jsx)(v,{onClick:function(e){e.preventDefault(),s(a)}})})]})})},k=function(e){var t=e.ImageUploader,a=e.cards,c=e.updateCard,r=e.deleteCard,i=e.onAddCard;return Object(n.jsxs)("div",{className:"edit",children:[Object.keys(a).map((function(e){return Object(n.jsx)(g,{ImageUploader:t,card:a[e],updateCard:c,deleteCard:r},e)})),Object(n.jsx)(p,{ImageUploader:t,onAdd:i})]})},N=Object(r.memo)((function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsxs)("div",{className:"footer-zone",children:[Object(n.jsx)("p",{children:"Sohyeon Bak"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Email : SohyeonBakoly@gmail.com"}),Object(n.jsxs)("li",{children:["Github : ",Object(n.jsx)("a",{href:"https://github.com/sohyeonBak",children:"https://github.com/sohyeonBak"})]})]})]})})})),_=Object(r.memo)((function(e){var t=e.onLogOut;return Object(n.jsx)("header",{className:"header",children:Object(n.jsxs)("div",{className:"header-zone",children:[Object(n.jsx)("h1",{children:"Business Card Maker"}),Object(n.jsx)("span",{className:"sign-out",onClick:t,children:"Sing out"})]})})})),C=function(e){var t=e.ImageUploader,a=Object(o.f)().state,i=Object(r.useState)(a&&a.id),s=Object(d.a)(i,2),l=s[0],u=(s[1],Object(r.useState)({1:{id:1,name:"\ubc15\uc18c\ud604",office:"\uac00\ub098\ub2e4 \ud68c\uc0ac",address:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c A\uae38 123-12",phone:"010-1234-5678",email:"abcd12@ghi.com",theme:"white",fielName:null,fileURL:null},2:{id:2,name:"\uae40\uc81c\ub2c8",office:"\uc9c0\uae08 \ud68c\uc0ac",address:"\uc11c\uc6b8\uc2dc \uac15\uc11c\uad6c B\uae38 587-12",phone:"010-5678-1234",email:"aaccc8@iii.com",theme:"black",fielName:null,fileURL:null}})),j=Object(d.a)(u,2),b=j[0],f=j[1],h=Object(o.f)();Object(r.useEffect)((function(){}),[l]);var O=function(e){f((function(t){var a=Object(c.a)({},t);return a[e.id]=e,a}))};return Object(n.jsxs)("section",{className:"home",children:[Object(n.jsx)(_,{onLogOut:function(){h.push({pathname:"/"})}}),Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(k,{ImageUploader:t,cards:b,onAddCard:O,updateCard:O,deleteCard:function(e){f((function(t){var a=Object(c.a)({},t);return delete a[e.id],a}))}}),Object(n.jsx)(m,{cards:b})]}),Object(n.jsx)(N,{})]})},y=a(18);var w=function(e){var t=e.ImageUploader,a=e.authService;return Object(n.jsx)(y.a,{basename:"/Business-Card-Maker",children:Object(n.jsxs)(o.c,{children:[Object(n.jsx)(o.a,{path:"/",exact:!0,children:Object(n.jsx)(u,{authService:a})}),Object(n.jsx)(o.a,{path:"/home",children:Object(n.jsx)(C,{ImageUploader:t,authService:a})})]})})},R=a(20),U=a(21),I=a(23),S=(a(43),a(45),I.a.initializeApp({apiKey:"AIzaSyB9OMpOfMMD3rsFpifRrvoO_m9olzylHKw",authDomain:"business-card-maker-8cbcd.firebaseapp.com",projectId:"business-card-maker-8cbcd",databaseURL:"https://business-card-maker-8cbcd-default-rtdb.firebaseio.com",storageBucket:"business-card-maker-8cbcd.appspot.com"})),A=S.auth(),B=(S.database(),new I.a.auth.GoogleAuthProvider),L=new I.a.auth.GithubAuthProvider,z=function(){function e(){Object(R.a)(this,e)}return Object(U.a)(e,[{key:"login",value:function(e){var t=this.getProvider(e);return A.signInWithPopup(t)}},{key:"onAuthChange",value:function(e){A.onAuthStateChanged((function(t){e(t)}))}},{key:"getProvider",value:function(e){switch(e){case"Google":return B;case"Github":return L;default:throw new Error("not supported provider")}}}]),e}(),E=a(15),G=a.n(E),D=a(22),P=function(){function e(){Object(R.a)(this,e)}return Object(U.a)(e,[{key:"upload",value:function(){var e=Object(D.a)(G.a.mark((function e(t){var a,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","rqk6eubc"),e.next=5,fetch("https://api.cloudinary.com/v1_1/dohzcpvek/upload",{method:"POST",body:a});case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),M=Object(r.memo)((function(e){var t=e.fileInput,a=e.onFileChange,c=Object(r.useRef)(),i=function(){var e=Object(D.a)(G.a.mark((function e(c){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c.target.files[0]),e.next=3,t.upload(c.target.files[0]);case 3:n=e.sent,console.log(n),a({name:n.original_filename,url:n.url});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("span",{className:"pick",children:[Object(n.jsx)("input",{ref:c,type:"file",accept:"image/*",name:"file",onChange:i}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault(),c.current.click()},children:"Pick image"})]})})),T=new z,F=new P;l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(w,{authService:T,ImageUploader:function(e){return Object(n.jsx)(M,Object(c.a)(Object(c.a)({},e),{},{fileInput:F}))}})}),document.getElementById("root"))},7:function(e,t,a){e.exports={namecard:"card_namecard__38QBd",white:"card_white__2oLlk",black:"card_black__wANPj",blue:"card_blue__3ECdi",facezone:"card_facezone__REdNb",face:"card_face__XGjlE",faceimg:"card_faceimg__v1zs_",name:"card_name__20rGY",info:"card_info__1YB-6",office:"card_office__Hlkxy",address:"card_address__2iTlv",phone:"card_phone__1VB-i",email:"card_email__2bGpL"}}},[[50,1,2]]]);
//# sourceMappingURL=main.e2a3c2cf.chunk.js.map